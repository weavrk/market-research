# GoDaddy Python/Flask Configuration
# Enable Python execution
AddHandler fcgid-script .py
Options +ExecCGI

# Set directory index
DirectoryIndex index.py index.html

# Set Python path and encoding
FcgidInitialEnv PYTHON_IO_ENCODING utf8

# Route all requests to index.py
RewriteEngine On
RewriteBase /hrefs/market-research/

# Don't rewrite if file exists
RewriteCond %{REQUEST_FILENAME} !-f
RewriteCond %{REQUEST_FILENAME} !-d

# Route to index.py
RewriteRule ^(.*)$ index.py/$1 [QSA,L]

# Prevent access to sensitive files
<FilesMatch "^\.">
    Order allow,deny
    Deny from all
</FilesMatch>

# Prevent access to Python cache
<FilesMatch "\.pyc$">
    Order allow,deny
    Deny from all
</FilesMatch>

# Allow access to static files
<IfModule mod_headers.c>
    Header set Access-Control-Allow-Origin "*"
</IfModule>

